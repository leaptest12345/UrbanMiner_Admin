{"version":3,"sources":["components/cards/MiniCardComponent.js","routes/dashboard/DashboardComponent.js","routes/dashboard/index.js"],"names":["useStyles","createUseStyles","theme","container","backgroundColor","border","color","lightGrayishBlue2","borderRadius","cursor","maxWidth","padding","borderColor","lightBlue","title","typography","cardTitle","grayishBlue2","marginBottom","minWidth","textAlign","value","veryDarkGrayishBlue","fontWeight","fontSize","letterSpacing","lineHeight","MiniCardComponent","className","useTheme","classes","composedClassName","join","flexGrow","horizontal","vertical","i","cardsContainer","marginRight","marginTop","cardRow","miniCardContainer","todayTrends","lastRow","unresolvedTickets","tasks","DashboardComponent","useState","totalUser","setTotalUser","totalSubUser","setTotalSubUser","totalItem","setTotalItem","totalInvoice","setTotalInvoice","subUserInvoice","setSubUserInvoice","adminLevel","setAdminLevel","subUserIds","getAllData","localStorage","getItem","id","userRef","ref","database","onValue","snapshot","val","subUserRef","newArr","forEach","child","isDeleted","push","ID","formateData","filter","item","length","starCountRef","starCountRef1","map","console","log","userId","includes","starCountRef2","useEffect","wrap","breakpoints","768","384"],"mappings":"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","file":"static/js/3.19ada9f7.chunk.js","sourcesContent":["import React from 'react';\nimport { Column } from 'simple-flexbox';\nimport { createUseStyles, useTheme } from 'react-jss';\n\nconst useStyles = createUseStyles((theme) => ({\n    container: {\n        backgroundColor: '#FFFFFF',\n        border: `1px solid ${theme.color.lightGrayishBlue2}`,\n        borderRadius: 4,\n        cursor: 'pointer',\n        maxWidth: 350,\n        padding: '16px 32px 16px 32px',\n        '&:hover': {\n            borderColor: theme.color.lightBlue,\n            '&:nth-child(n) > span': {\n                color: theme.color.lightBlue\n            }\n        }\n    },\n    title: {\n        ...theme.typography.cardTitle,\n        color: theme.color.grayishBlue2,\n        marginBottom: 12,\n        minWidth: 102,\n        textAlign: 'center'\n    },\n    value: {\n        color: theme.color.veryDarkGrayishBlue,\n        fontWeight: 'bold',\n        fontSize: 40,\n        letterSpacing: '1px',\n        lineHeight: '50px',\n        textAlign: 'center'\n    }\n}));\n\nfunction MiniCardComponent({ className = '', title, value }) {\n    const theme = useTheme();\n    const classes = useStyles({ theme });\n    const composedClassName = [classes.container, className].join(' ');\n    return (\n        <Column flexGrow={1} className={composedClassName} horizontal='center' vertical='center'>\n            <span className={classes.title}>{title}</span>\n            <span className={classes.value}>{value}</span>\n        </Column>\n    );\n}\n\nexport default MiniCardComponent;\n","import React, { useEffect, useState } from 'react';\nimport { Column, Row } from 'simple-flexbox';\nimport { database } from 'configs/firebaseConfig';\nimport { child, onValue, ref } from 'firebase/database';\nimport { createUseStyles, useTheme } from 'react-jss';\nimport { formateData } from 'util/formateData';\nimport MiniCardComponent from 'components/cards/MiniCardComponent';\n\nconst useStyles = createUseStyles({\n    cardsContainer: {\n        marginRight: -30,\n        marginTop: -30\n    },\n    cardRow: {\n        marginTop: 30,\n        '@media (max-width: 768px)': {\n            marginTop: 0\n        }\n    },\n    miniCardContainer: {\n        flexGrow: 1,\n        marginRight: 30,\n        '@media (max-width: 768px)': {\n            marginTop: 30,\n            maxWidth: 'none'\n        }\n    },\n    todayTrends: {\n        marginTop: 30\n    },\n    lastRow: {\n        marginTop: 30\n    },\n    unresolvedTickets: {\n        marginRight: 30,\n        '@media (max-width: 1024px)': {\n            marginRight: 0\n        }\n    },\n    tasks: {\n        marginTop: 0,\n        '@media (max-width: 1024px)': {\n            marginTop: 30\n        }\n    }\n});\n\nfunction DashboardComponent() {\n    const [totalUser, setTotalUser] = useState('');\n    const [totalSubUser, setTotalSubUser] = useState('');\n    const [totalItem, setTotalItem] = useState('');\n    const [totalInvoice, setTotalInvoice] = useState('');\n    const [subUserInvoice, setSubUserInvoice] = useState('');\n    const [adminLevel, setAdminLevel] = useState(1);\n    const [subUserIds, setSubUserId] = useState([]);\n\n    const getAllData = async () => {\n        try {\n            const id = await localStorage.getItem('userID');\n            const userRef = ref(database, `/ADMIN/USERS/${id}`);\n            onValue(userRef, (snapshot) => {\n                setAdminLevel(snapshot.val().adminLevel);\n            });\n            const subUserRef = ref(database, `/ADMIN/USERS/${id}/SUB_USERS`);\n            onValue(subUserRef, (snapshot) => {\n                const newArr = snapshot.val();\n                snapshot.forEach((child) => {\n                    if (child.val()) {\n                        if (child.val().isDeleted != true) {\n                            subUserIds.push(child.val().ID);\n                        }\n                    }\n                });\n                setTotalSubUser(\n                    formateData(newArr).filter((item) => item.isDeleted != true).length\n                );\n            });\n            const starCountRef = ref(database, '/USERS');\n            onValue(starCountRef, (snapshot) => {\n                const newArr = snapshot.val();\n                setTotalUser(formateData(newArr).filter((item) => item.isDeleted != true).length);\n            });\n            const starCountRef1 = ref(database, '/INVOICE_LIST');\n            onValue(starCountRef1, (snapshot) => {\n                const newArr = snapshot.val();\n                formateData(newArr).map((item) => {\n                    console.log('total invoices', item.userId);\n                });\n                setSubUserInvoice(\n                    formateData(newArr).filter((item) => subUserIds.includes(item.userId)).length\n                );\n                setTotalInvoice(formateData(newArr).length);\n            });\n            const starCountRef2 = ref(database, '/ADMIN/ITEM');\n            onValue(starCountRef2, (snapshot) => {\n                const newArr = snapshot.val();\n                setTotalItem(formateData(newArr).length);\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    useEffect(() => {\n        getAllData();\n    }, []);\n    const theme = useTheme();\n\n    const classes = useStyles(theme);\n    return (\n        <Column>\n            <Row\n                className={classes.cardsContainer}\n                wrap\n                flexGrow={1}\n                horizontal='space-between'\n                breakpoints={{ 768: 'column' }}\n            >\n                <Row\n                    className={classes.cardRow}\n                    wrap\n                    flexGrow={1}\n                    horizontal='space-between'\n                    breakpoints={{ 384: 'column' }}\n                >\n                    <MiniCardComponent\n                        className={classes.miniCardContainer}\n                        title='AdminLevel'\n                        value={adminLevel}\n                    />\n                    <MiniCardComponent\n                        className={classes.miniCardContainer}\n                        title='Total User'\n                        value={adminLevel == 1 ? totalUser : totalSubUser}\n                    />\n                    <MiniCardComponent\n                        className={classes.miniCardContainer}\n                        title='Total Items'\n                        value={totalItem}\n                    />\n                </Row>\n                <MiniCardComponent\n                    className={classes.miniCardContainer}\n                    title='TotalInvoice'\n                    value={adminLevel == 1 ? totalInvoice : subUserInvoice}\n                />\n            </Row>\n        </Column>\n    );\n}\n\nexport default DashboardComponent;\n","import DashboardComponent from './DashboardComponent';\n\nexport default DashboardComponent;\n"],"sourceRoot":""}